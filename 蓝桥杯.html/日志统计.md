```C
#include<stdio.h>
void function(int a[100000][2],int left,int right){
	int i,j,k[2];
	if(left<right){
		i=left;
		j=right;
		k[0]=a[i][0];
		k[1]=a[i][1];
		while(i<j&&k[0]<a[j][0]){
			j--;
		}
		if(i<j){
			a[i][0]=a[j][0];
			a[i][1]=a[j][1];
			i++;
		}
		while(i<j&&a[i][0]<k[0]){
			i++;
		}
		if(i<j){
			a[j][0]=a[i][0];
			a[j][1]=a[i][1];
			j--;
		}
		a[i][0]=k[0];
		a[i][1]=k[1];
		function(a,i+1,right);
		function(a,left,i-1);
	}
}
int main(){
	int n,d,k,a[100000][2],b[100000][3],c[100000][2],i,j=0,m,llink=0,rlink=0,find;
	scanf("%d%d%d",&n,&d,&k);
	for(i=0;i<n;i++){
		scanf("%d%d",&a[i][0],&a[i][1]);
	}
	function(a,0,n-1);
	for(i=0;i<n;i++){
		find=0;
		for(m=llink;m<rlink;m++){
			if(a[i][0]-b[m][0]>=d){
				llink++;
			}
			else{
				if(a[i][1]==b[m][1]){
					find=1;
					b[m][2]++;
				}
				if(b[m][2]>=k){
					c[j][0]=b[m][1];
					j++;
				}
			}
		}
		if(find==0){
			b[rlink][0]=a[i][0];
			b[rlink][1]=a[i][1];
			b[rlink][2]=1;
			rlink++;
		}
	}
	function(c,0,j-1);
	for(i=0;i<j;i++){
		printf("%d\n",c[i][0]);
	}
	return 0;
}
```
